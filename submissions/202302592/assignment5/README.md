# Assignment5: Model Training and Evaluation
## 1. 프로젝트 개요
- 프로젝트 명: 교재 학습활동 질문 요약 도구
- 목적: 교과서 텍스트 파일에서 지시문(학습활동 질문)을 추출하여 한눈에 볼 수 있도록 제공한다.

## 2. 모델 아키텍처 및 학습 데이터
***모델 학습에 사용된 모든 코드는 GEMINI와 ChatGPT의 도움을 받았음***

### 2.1. 모델 아키텍처
- 모델: KoBERT(`skt/kobert-base-v1`)
- 선정이유: 프로젝트의 목표가 한국어 데이터에 집중되어 있으므로 한국어 데이터를 처리하기에 적절한 KoBERT를 선정하였다.

### 2.2. 학습 데이터
- 학습 데이터: 교과서 지시문 115개, 한국어 위키피디아에서 크롤링한 일반 문장 193개
- Assignment4에서 수집한 자료가 모델을 학습하기에는 너무 복잡하고, 목표 과제인 '지시문 추출'에 부적합하다고 생각되어 이미 수집한 교과서 속 학습활동 질문(지시문) 103개에 12개의 문장을 더 수집하였다. 추가적으로 지시문이 아닌 형태의 문장과 지시문을 구분하기 위해 한국어 위키피디아에서 크롤링을 하여 193개의 문장을 수집하였다.
- 수집한 총 308개의 문장을 지시문인 경우 '1'을, 그 외의 문장인 경우 '0'을 할당하여 정답 데이터와 오답 데이터를 구분하여, 이전 과제에서 수집한 데이터의 형태에서 수정되었다.

## 3. 학습 (training)
### 3.1. 데이터 분할
- 전체 데이터를 Train/Validation 그룹 (80%)과 Test 그룹 (20%)으로 분리
- 남은 Train/Validation 그룹을 다시 Train (80%)과 Validation (20%)으로 분리
- Train: 196
- Validation: 50
- Test: 62

### 3.2. 학습 과정
- 최초 epoch을 3으로 하여 실행하였으나, evaluation과 inference 성능이 너무 좋지 않아 epoch의 수를 10으로 늘렸다.
- epoch을 3에서 10으로 늘린 결과, epoch의 수를 늘릴수록 validation accuracy가 항상 높아지는 것은 아님을 발견하였다. 그러나 전반적으로 우상향하는 추세를 보이고 있고, 더불어 training loss가 함께 줄어들고 있는 모습을 볼 수 있었으므로 일단은 epoch 10으로 설정하였다. 이후 성능 개선 단계에서 조금 더 자세히 확인하여 개선할 계획이다.

## 4. 평가 결과 (evaluation)
|    지표   | Precision | Recall | F1-score | 실제 데이터 수 |
|-----------|-----------|--------| -------- | ------------- |
| 0(비지시문)|  0.8000  | 1.0000 |  0.8889 |       36        |
| 1(지시문) | 1.0000 | 0.6538 | 0.7907   |        26       |

- 지시문의 precision은 완벽하지만, recall 수치가 약 0.65를 보여 지시문을 상당히 놓치고 있음을 확인하였다.
- 많은 양의 데이터 중, 지시문이 아닌 것을 함께 제시하더라도, 프로젝트의 목적을 생각하였을 때, 누락되는 지시문이 있으면 안되므로 이 부분을 개선할 필요가 있다.
- recall의 수치가 낮아 f1-score도 함께 낮아진 것으로 보이므로, recall을 개선하는 방식으로 모델의 성능 개선이 필요하다. 

## 5. 추론 (inference)
- 모델이 잘 작동하는지 확인하기 위해 새로운 데이터 일부를 제공하였다.
- 첫 번째는 단순한 문장만 제시하여 지시문인지 아닌지를 판별하도록 하였고, 이후 3번의 실행에서는 새로운 txt파일을 제공하여 지시문을 추출하도록 하였다.
- 문장을 낱개로 제시할 때는 정답을 제시하는 경우가 많았으나, txt 파일을 제공하였을 경우에는 지시문을 추출하기는 하였으나, 지시문을 모두 찾지 못하였고, 지시문이 아닌 문장이나 단어들도 추출해내었다.


## 4. 남아있는 과제들
- 최초 계획과 달리 예상치 못하게 교과서의 파일이 스캔 파일이나 E-Book 형태로 나타나있어 데이터를 가져와 제공하는 데에 어려움이 있었다. 사진 파일인 경우, OCR을 활용하거나 E-Book의 경우 텍스트를 복사하여 txt파일로 저장하였지만, 이 데이터들이 정리되지 않은채로 모델에 제공되다 보니 모델이 지시문과 지시문이 아닌 것을 판별하는 데에 오류가 발생한 것으로 보인다.
- 모델이 원하는 정보를 추출할 수 있도록 전처리 과정이 필요해 보이며, Assignment6에서 실제 사용을 해보며 특히 recall 위주로 성능 개선을 할 필요가 있다.
